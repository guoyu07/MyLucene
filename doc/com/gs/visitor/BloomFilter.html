<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="zh">
<head>
<!-- Generated by javadoc (version 1.7.0_17) on Sun Oct 13 22:00:33 CST 2013 -->
<title>BloomFilter</title>
<meta name="date" content="2013-10-13">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="BloomFilter";
    }
//-->
</script>
<noscript>
<div>您的浏览器已禁用 JavaScript。</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="跳过导航链接"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="导航">
<li><a href="../../../overview-summary.html">概览</a></li>
<li><a href="package-summary.html">程序包</a></li>
<li class="navBarCell1Rev">类</li>
<li><a href="class-use/BloomFilter.html">使用</a></li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../../deprecated-list.html">已过时</a></li>
<li><a href="../../../index-files/index-1.html">索引</a></li>
<li><a href="../../../help-doc.html">帮助</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>上一个类</li>
<li><a href="../../../com/gs/visitor/DaemonThread.html" title="com.gs.visitor中的类"><span class="strong">下一个类</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/gs/visitor/BloomFilter.html" target="_top">框架</a></li>
<li><a href="BloomFilter.html" target="_top">无框架</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">所有类</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>概要:&nbsp;</li>
<li>嵌套&nbsp;|&nbsp;</li>
<li><a href="#field_summary">字段</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">方法</a></li>
</ul>
<ul class="subNavList">
<li>详细资料:&nbsp;</li>
<li><a href="#field_detail">字段</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">方法</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.gs.visitor</div>
<h2 title="类 BloomFilter" class="title">类 BloomFilter&lt;E&gt;</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.gs.visitor.BloomFilter&lt;E&gt;</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl><dt><span class="strong">类型参数:</span></dt><dd><code>E</code> - Object type that is to be inserted into the Bloom filter, e.g.
            String or Integer.</dd></dl>
<dl>
<dt>所有已实现的接口:</dt>
<dd>java.io.Serializable</dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">BloomFilter&lt;E&gt;</span>
extends java.lang.Object
implements java.io.Serializable</pre>
<div class="block">Implementation of a Bloom-filter, as described here:
 http://en.wikipedia.org/wiki/Bloom_filter
 
 For updates and bugfixes, see http://github.com/magnuss/java-bloomfilter
 
 Inspired by the SimpleBloomFilter-class written by Ian Clarke. This
 implementation provides a more evenly distributed Hash-function by using a
 proper digest instead of the Java RNG. Many of the changes were proposed in
 comments in his blog:
 http://blog.locut.us/2008/01/12/a-decent-stand-alone-java
 -bloom-filter-implementation/</div>
<dl><dt><span class="strong">作者:</span></dt>
  <dd>Magnus Skjegstad <magnus@skjegstad.com></dd>
<dt><span class="strong">另请参阅:</span></dt><dd><a href="../../../serialized-form.html#com.gs.visitor.BloomFilter">序列化表格</a></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>字段概要</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="字段概要表, 列表字段和解释">
<caption><span>字段</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">限定符和类型</th>
<th class="colLast" scope="col">字段和说明</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.util.BitSet</code></td>
<td class="colLast"><code><strong><a href="../../../com/gs/visitor/BloomFilter.html#bitset">bitset</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><strong><a href="../../../com/gs/visitor/BloomFilter.html#bitSetSize">bitSetSize</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private double</code></td>
<td class="colLast"><code><strong><a href="../../../com/gs/visitor/BloomFilter.html#bitsPerElement">bitsPerElement</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(专用程序包) static java.nio.charset.Charset</code></td>
<td class="colLast"><code><strong><a href="../../../com/gs/visitor/BloomFilter.html#charset">charset</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(专用程序包) static java.security.MessageDigest</code></td>
<td class="colLast"><code><strong><a href="../../../com/gs/visitor/BloomFilter.html#digestFunction">digestFunction</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><strong><a href="../../../com/gs/visitor/BloomFilter.html#expectedNumberOfFilterElements">expectedNumberOfFilterElements</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(专用程序包) static java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../com/gs/visitor/BloomFilter.html#hashName">hashName</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><strong><a href="../../../com/gs/visitor/BloomFilter.html#k">k</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private org.apache.log4j.Logger</code></td>
<td class="colLast"><code><strong><a href="../../../com/gs/visitor/BloomFilter.html#logger">logger</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><strong><a href="../../../com/gs/visitor/BloomFilter.html#numberOfAddedElements">numberOfAddedElements</a></strong></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>构造器概要</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="构造器概要表, 列表构造器和解释">
<caption><span>构造器</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">构造器和说明</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../com/gs/visitor/BloomFilter.html#BloomFilter(double, int)">BloomFilter</a></strong>(double&nbsp;falsePositiveProbability,
           int&nbsp;expectedNumberOfElements)</code>
<div class="block">Constructs an empty Bloom filter with a given false positive probability.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><strong><a href="../../../com/gs/visitor/BloomFilter.html#BloomFilter(double, int, int)">BloomFilter</a></strong>(double&nbsp;c,
           int&nbsp;n,
           int&nbsp;k)</code>
<div class="block">Constructs an empty Bloom filter.</div>
</td>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../com/gs/visitor/BloomFilter.html#BloomFilter(int, int)">BloomFilter</a></strong>(int&nbsp;bitSetSize,
           int&nbsp;expectedNumberOElements)</code>
<div class="block">Constructs an empty Bloom filter.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><strong><a href="../../../com/gs/visitor/BloomFilter.html#BloomFilter(int, int, int, java.util.BitSet)">BloomFilter</a></strong>(int&nbsp;bitSetSize,
           int&nbsp;expectedNumberOfFilterElements,
           int&nbsp;actualNumberOfFilterElements,
           java.util.BitSet&nbsp;filterData)</code>
<div class="block">Construct a new Bloom filter based on existing Bloom filter data.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>方法概要</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="方法概要表, 列表方法和解释">
<caption><span>方法</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">限定符和类型</th>
<th class="colLast" scope="col">方法和说明</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/gs/visitor/BloomFilter.html#add(byte[])">add</a></strong>(byte[]&nbsp;bytes)</code>
<div class="block">Adds an array of bytes to the Bloom filter.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/gs/visitor/BloomFilter.html#add(E)">add</a></strong>(<a href="../../../com/gs/visitor/BloomFilter.html" title="BloomFilter中的类型参数">E</a>&nbsp;element)</code>
<div class="block">Adds an object to the Bloom filter.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/gs/visitor/BloomFilter.html#addAll(java.util.Collection)">addAll</a></strong>(java.util.Collection&lt;? extends <a href="../../../com/gs/visitor/BloomFilter.html" title="BloomFilter中的类型参数">E</a>&gt;&nbsp;c)</code>
<div class="block">Adds all elements from a Collection to the Bloom filter.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/gs/visitor/BloomFilter.html#clear()">clear</a></strong>()</code>
<div class="block">Sets all bits to false in the Bloom filter.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../com/gs/visitor/BloomFilter.html#contains(byte[])">contains</a></strong>(byte[]&nbsp;bytes)</code>
<div class="block">Returns true if the array of bytes could have been inserted into the
 Bloom filter.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../com/gs/visitor/BloomFilter.html#contains(E)">contains</a></strong>(<a href="../../../com/gs/visitor/BloomFilter.html" title="BloomFilter中的类型参数">E</a>&nbsp;element)</code>
<div class="block">Returns true if the element could have been inserted into the Bloom
 filter.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../com/gs/visitor/BloomFilter.html#containsAll(java.util.Collection)">containsAll</a></strong>(java.util.Collection&lt;? extends <a href="../../../com/gs/visitor/BloomFilter.html" title="BloomFilter中的类型参数">E</a>&gt;&nbsp;c)</code>
<div class="block">Returns true if all the elements of a Collection could have been inserted
 into the Bloom filter.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../com/gs/visitor/BloomFilter.html#count()">count</a></strong>()</code>
<div class="block">Returns the number of elements added to the Bloom filter after it was
 constructed or after clear() was called.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../com/gs/visitor/BloomFilter.html#createHash(byte[])">createHash</a></strong>(byte[]&nbsp;data)</code>
<div class="block">Generates a digest based on the contents of an array of bytes.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../com/gs/visitor/BloomFilter.html#createHash(java.lang.String)">createHash</a></strong>(java.lang.String&nbsp;val)</code>
<div class="block">Generates a digest based on the contents of a String.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../com/gs/visitor/BloomFilter.html#createHash(java.lang.String, java.nio.charset.Charset)">createHash</a></strong>(java.lang.String&nbsp;val,
          java.nio.charset.Charset&nbsp;charset)</code>
<div class="block">Generates a digest based on the contents of a String.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int[]</code></td>
<td class="colLast"><code><strong><a href="../../../com/gs/visitor/BloomFilter.html#createHashes(byte[], int)">createHashes</a></strong>(byte[]&nbsp;data,
            int&nbsp;hashes)</code>
<div class="block">Generates digests based on the contents of an array of bytes and splits
 the result into 4-byte int's and store them in an array.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../com/gs/visitor/BloomFilter.html#equals(java.lang.Object)">equals</a></strong>(java.lang.Object&nbsp;obj)</code>
<div class="block">Compares the contents of two instances to see if they are equal.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><strong><a href="../../../com/gs/visitor/BloomFilter.html#expectedFalsePositiveProbability()">expectedFalsePositiveProbability</a></strong>()</code>
<div class="block">Calculates the expected probability of false positives based on the
 number of expected filter elements and the size of the Bloom filter.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../com/gs/visitor/BloomFilter.html#getBit(int)">getBit</a></strong>(int&nbsp;bit)</code>
<div class="block">Read a single bit from the Bloom filter.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.util.BitSet</code></td>
<td class="colLast"><code><strong><a href="../../../com/gs/visitor/BloomFilter.html#getBitSet()">getBitSet</a></strong>()</code>
<div class="block">Return the bit set used to store the Bloom filter.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><strong><a href="../../../com/gs/visitor/BloomFilter.html#getBitsPerElement()">getBitsPerElement</a></strong>()</code>
<div class="block">Get actual number of bits per element based on the number of elements
 that have currently been inserted and the length of the Bloom filter.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><strong><a href="../../../com/gs/visitor/BloomFilter.html#getExpectedBitsPerElement()">getExpectedBitsPerElement</a></strong>()</code>
<div class="block">Get expected number of bits per element when the Bloom filter is full.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../com/gs/visitor/BloomFilter.html#getExpectedNumberOfElements()">getExpectedNumberOfElements</a></strong>()</code>
<div class="block">Returns the expected number of elements to be inserted into the filter.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><strong><a href="../../../com/gs/visitor/BloomFilter.html#getFalsePositiveProbability()">getFalsePositiveProbability</a></strong>()</code>
<div class="block">Get the current probability of a false positive.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><strong><a href="../../../com/gs/visitor/BloomFilter.html#getFalsePositiveProbability(double)">getFalsePositiveProbability</a></strong>(double&nbsp;numberOfElements)</code>
<div class="block">Calculate the probability of a false positive given the specified number
 of inserted elements.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../com/gs/visitor/BloomFilter.html#getK()">getK</a></strong>()</code>
<div class="block">Returns the value chosen for K.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../com/gs/visitor/BloomFilter.html#hashCode()">hashCode</a></strong>()</code>
<div class="block">Calculates a hash code for this class.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/gs/visitor/BloomFilter.html#setBit(int, boolean)">setBit</a></strong>(int&nbsp;bit,
      boolean&nbsp;value)</code>
<div class="block">Set a single bit in the Bloom filter.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../com/gs/visitor/BloomFilter.html#size()">size</a></strong>()</code>
<div class="block">Returns the number of bits in the Bloom filter.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>从类继承的方法&nbsp;java.lang.Object</h3>
<code>clone, finalize, getClass, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>字段详细资料</h3>
<a name="bitset">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>bitset</h4>
<pre>private&nbsp;java.util.BitSet bitset</pre>
</li>
</ul>
<a name="bitSetSize">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>bitSetSize</h4>
<pre>private&nbsp;int bitSetSize</pre>
</li>
</ul>
<a name="bitsPerElement">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>bitsPerElement</h4>
<pre>private&nbsp;double bitsPerElement</pre>
</li>
</ul>
<a name="expectedNumberOfFilterElements">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>expectedNumberOfFilterElements</h4>
<pre>private&nbsp;int expectedNumberOfFilterElements</pre>
</li>
</ul>
<a name="numberOfAddedElements">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>numberOfAddedElements</h4>
<pre>private&nbsp;int numberOfAddedElements</pre>
</li>
</ul>
<a name="k">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>k</h4>
<pre>private&nbsp;int k</pre>
</li>
</ul>
<a name="logger">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>logger</h4>
<pre>private&nbsp;org.apache.log4j.Logger logger</pre>
</li>
</ul>
<a name="charset">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>charset</h4>
<pre>static final&nbsp;java.nio.charset.Charset charset</pre>
</li>
</ul>
<a name="hashName">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hashName</h4>
<pre>static final&nbsp;java.lang.String hashName</pre>
<dl><dt><span class="strong">另请参阅:</span></dt><dd><a href="../../../constant-values.html#com.gs.visitor.BloomFilter.hashName">常量字段值</a></dd></dl>
</li>
</ul>
<a name="digestFunction">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>digestFunction</h4>
<pre>static final&nbsp;java.security.MessageDigest digestFunction</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>构造器详细资料</h3>
<a name="BloomFilter(double, int, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>BloomFilter</h4>
<pre>public&nbsp;BloomFilter(double&nbsp;c,
           int&nbsp;n,
           int&nbsp;k)</pre>
<div class="block">Constructs an empty Bloom filter. The total length of the Bloom filter
 will be c*n.</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>c</code> - is the number of bits used per element.</dd><dd><code>n</code> - is the expected number of elements the filter will contain.</dd><dd><code>k</code> - is the number of hash functions used.</dd></dl>
</li>
</ul>
<a name="BloomFilter(int, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>BloomFilter</h4>
<pre>public&nbsp;BloomFilter(int&nbsp;bitSetSize,
           int&nbsp;expectedNumberOElements)</pre>
<div class="block">Constructs an empty Bloom filter. The optimal number of hash functions
 (k) is estimated from the total size of the Bloom and the number of
 expected elements.</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>bitSetSize</code> - defines how many bits should be used in total for the filter.</dd><dd><code>expectedNumberOElements</code> - defines the maximum number of elements the filter is expected
            to contain.</dd></dl>
</li>
</ul>
<a name="BloomFilter(double, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>BloomFilter</h4>
<pre>public&nbsp;BloomFilter(double&nbsp;falsePositiveProbability,
           int&nbsp;expectedNumberOfElements)</pre>
<div class="block">Constructs an empty Bloom filter with a given false positive probability.
 The number of bits per element and the number of hash functions is
 estimated to match the false positive probability.</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>falsePositiveProbability</code> - is the desired false positive probability.</dd><dd><code>expectedNumberOfElements</code> - is the expected number of elements in the Bloom filter.</dd></dl>
</li>
</ul>
<a name="BloomFilter(int, int, int, java.util.BitSet)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>BloomFilter</h4>
<pre>public&nbsp;BloomFilter(int&nbsp;bitSetSize,
           int&nbsp;expectedNumberOfFilterElements,
           int&nbsp;actualNumberOfFilterElements,
           java.util.BitSet&nbsp;filterData)</pre>
<div class="block">Construct a new Bloom filter based on existing Bloom filter data.</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>bitSetSize</code> - defines how many bits should be used for the filter.</dd><dd><code>expectedNumberOfFilterElements</code> - defines the maximum number of elements the filter is expected
            to contain.</dd><dd><code>actualNumberOfFilterElements</code> - specifies how many elements have been inserted into the
            <code>filterData</code> BitSet.</dd><dd><code>filterData</code> - a BitSet representing an existing Bloom filter.</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>方法详细资料</h3>
<a name="createHash(java.lang.String, java.nio.charset.Charset)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createHash</h4>
<pre>public static&nbsp;int&nbsp;createHash(java.lang.String&nbsp;val,
             java.nio.charset.Charset&nbsp;charset)</pre>
<div class="block">Generates a digest based on the contents of a String.</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>val</code> - specifies the input data.</dd><dd><code>charset</code> - specifies the encoding of the input data.</dd>
<dt><span class="strong">返回:</span></dt><dd>digest as long.</dd></dl>
</li>
</ul>
<a name="createHash(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createHash</h4>
<pre>public static&nbsp;int&nbsp;createHash(java.lang.String&nbsp;val)</pre>
<div class="block">Generates a digest based on the contents of a String.</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>val</code> - specifies the input data. The encoding is expected to be
            UTF-8.</dd>
<dt><span class="strong">返回:</span></dt><dd>digest as long.</dd></dl>
</li>
</ul>
<a name="createHash(byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createHash</h4>
<pre>public static&nbsp;int&nbsp;createHash(byte[]&nbsp;data)</pre>
<div class="block">Generates a digest based on the contents of an array of bytes.</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>data</code> - specifies input data.</dd>
<dt><span class="strong">返回:</span></dt><dd>digest as long.</dd></dl>
</li>
</ul>
<a name="createHashes(byte[], int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createHashes</h4>
<pre>public static&nbsp;int[]&nbsp;createHashes(byte[]&nbsp;data,
                 int&nbsp;hashes)</pre>
<div class="block">Generates digests based on the contents of an array of bytes and splits
 the result into 4-byte int's and store them in an array. The digest
 function is called until the required number of int's are produced. For
 each call to digest a salt is prepended to the data. The salt is
 increased by 1 for each call.</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>data</code> - specifies input data.</dd><dd><code>hashes</code> - number of hashes/int's to produce.</dd>
<dt><span class="strong">返回:</span></dt><dd>array of int-sized hashes</dd></dl>
</li>
</ul>
<a name="equals(java.lang.Object)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>equals</h4>
<pre>public&nbsp;boolean&nbsp;equals(java.lang.Object&nbsp;obj)</pre>
<div class="block">Compares the contents of two instances to see if they are equal.</div>
<dl>
<dt><strong>覆盖:</strong></dt>
<dd><code>equals</code>&nbsp;在类中&nbsp;<code>java.lang.Object</code></dd>
<dt><span class="strong">参数:</span></dt><dd><code>obj</code> - is the object to compare to.</dd>
<dt><span class="strong">返回:</span></dt><dd>True if the contents of the objects are equal.</dd></dl>
</li>
</ul>
<a name="hashCode()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hashCode</h4>
<pre>public&nbsp;int&nbsp;hashCode()</pre>
<div class="block">Calculates a hash code for this class.</div>
<dl>
<dt><strong>覆盖:</strong></dt>
<dd><code>hashCode</code>&nbsp;在类中&nbsp;<code>java.lang.Object</code></dd>
<dt><span class="strong">返回:</span></dt><dd>hash code representing the contents of an instance of this class.</dd></dl>
</li>
</ul>
<a name="expectedFalsePositiveProbability()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>expectedFalsePositiveProbability</h4>
<pre>public&nbsp;double&nbsp;expectedFalsePositiveProbability()</pre>
<div class="block">Calculates the expected probability of false positives based on the
 number of expected filter elements and the size of the Bloom filter. <br />
 <br />
 The value returned by this method is the <i>expected</i> rate of false
 positives, assuming the number of inserted elements equals the number of
 expected elements. If the number of elements in the Bloom filter is less
 than the expected value, the true probability of false positives will be
 lower.</div>
<dl><dt><span class="strong">返回:</span></dt><dd>expected probability of false positives.</dd></dl>
</li>
</ul>
<a name="getFalsePositiveProbability(double)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFalsePositiveProbability</h4>
<pre>public&nbsp;double&nbsp;getFalsePositiveProbability(double&nbsp;numberOfElements)</pre>
<div class="block">Calculate the probability of a false positive given the specified number
 of inserted elements.</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>numberOfElements</code> - number of inserted elements.</dd>
<dt><span class="strong">返回:</span></dt><dd>probability of a false positive.</dd></dl>
</li>
</ul>
<a name="getFalsePositiveProbability()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFalsePositiveProbability</h4>
<pre>public&nbsp;double&nbsp;getFalsePositiveProbability()</pre>
<div class="block">Get the current probability of a false positive. The probability is
 calculated from the size of the Bloom filter and the current number of
 elements added to it.</div>
<dl><dt><span class="strong">返回:</span></dt><dd>probability of false positives.</dd></dl>
</li>
</ul>
<a name="getK()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getK</h4>
<pre>public&nbsp;int&nbsp;getK()</pre>
<div class="block">Returns the value chosen for K.<br />
 <br />
 K is the optimal number of hash functions based on the size of the Bloom
 filter and the expected number of inserted elements.</div>
<dl><dt><span class="strong">返回:</span></dt><dd>optimal k.</dd></dl>
</li>
</ul>
<a name="clear()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clear</h4>
<pre>public&nbsp;void&nbsp;clear()</pre>
<div class="block">Sets all bits to false in the Bloom filter.</div>
</li>
</ul>
<a name="add(java.lang.Object)">
<!--   -->
</a><a name="add(E)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>add</h4>
<pre>public&nbsp;void&nbsp;add(<a href="../../../com/gs/visitor/BloomFilter.html" title="BloomFilter中的类型参数">E</a>&nbsp;element)</pre>
<div class="block">Adds an object to the Bloom filter. The output from the object's
 toString() method is used as input to the hash functions.</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>element</code> - is an element to register in the Bloom filter.</dd></dl>
</li>
</ul>
<a name="add(byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>add</h4>
<pre>public&nbsp;void&nbsp;add(byte[]&nbsp;bytes)</pre>
<div class="block">Adds an array of bytes to the Bloom filter.</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>bytes</code> - array of bytes to add to the Bloom filter.</dd></dl>
</li>
</ul>
<a name="addAll(java.util.Collection)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addAll</h4>
<pre>public&nbsp;void&nbsp;addAll(java.util.Collection&lt;? extends <a href="../../../com/gs/visitor/BloomFilter.html" title="BloomFilter中的类型参数">E</a>&gt;&nbsp;c)</pre>
<div class="block">Adds all elements from a Collection to the Bloom filter.</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>c</code> - Collection of elements.</dd></dl>
</li>
</ul>
<a name="contains(java.lang.Object)">
<!--   -->
</a><a name="contains(E)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>contains</h4>
<pre>public&nbsp;boolean&nbsp;contains(<a href="../../../com/gs/visitor/BloomFilter.html" title="BloomFilter中的类型参数">E</a>&nbsp;element)</pre>
<div class="block">Returns true if the element could have been inserted into the Bloom
 filter. Use getFalsePositiveProbability() to calculate the probability of
 this being correct.</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>element</code> - element to check.</dd>
<dt><span class="strong">返回:</span></dt><dd>true if the element could have been inserted into the Bloom
         filter.</dd></dl>
</li>
</ul>
<a name="contains(byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>contains</h4>
<pre>public&nbsp;boolean&nbsp;contains(byte[]&nbsp;bytes)</pre>
<div class="block">Returns true if the array of bytes could have been inserted into the
 Bloom filter. Use getFalsePositiveProbability() to calculate the
 probability of this being correct.</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>bytes</code> - array of bytes to check.</dd>
<dt><span class="strong">返回:</span></dt><dd>true if the array could have been inserted into the Bloom filter.</dd></dl>
</li>
</ul>
<a name="containsAll(java.util.Collection)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>containsAll</h4>
<pre>public&nbsp;boolean&nbsp;containsAll(java.util.Collection&lt;? extends <a href="../../../com/gs/visitor/BloomFilter.html" title="BloomFilter中的类型参数">E</a>&gt;&nbsp;c)</pre>
<div class="block">Returns true if all the elements of a Collection could have been inserted
 into the Bloom filter. Use getFalsePositiveProbability() to calculate the
 probability of this being correct.</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>c</code> - elements to check.</dd>
<dt><span class="strong">返回:</span></dt><dd>true if all the elements in c could have been inserted into the
         Bloom filter.</dd></dl>
</li>
</ul>
<a name="getBit(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBit</h4>
<pre>public&nbsp;boolean&nbsp;getBit(int&nbsp;bit)</pre>
<div class="block">Read a single bit from the Bloom filter.</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>bit</code> - the bit to read.</dd>
<dt><span class="strong">返回:</span></dt><dd>true if the bit is set, false if it is not.</dd></dl>
</li>
</ul>
<a name="setBit(int, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setBit</h4>
<pre>public&nbsp;void&nbsp;setBit(int&nbsp;bit,
          boolean&nbsp;value)</pre>
<div class="block">Set a single bit in the Bloom filter.</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>bit</code> - is the bit to set.</dd><dd><code>value</code> - If true, the bit is set. If false, the bit is cleared.</dd></dl>
</li>
</ul>
<a name="getBitSet()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBitSet</h4>
<pre>public&nbsp;java.util.BitSet&nbsp;getBitSet()</pre>
<div class="block">Return the bit set used to store the Bloom filter.</div>
<dl><dt><span class="strong">返回:</span></dt><dd>bit set representing the Bloom filter.</dd></dl>
</li>
</ul>
<a name="size()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>size</h4>
<pre>public&nbsp;int&nbsp;size()</pre>
<div class="block">Returns the number of bits in the Bloom filter. Use count() to retrieve
 the number of inserted elements.</div>
<dl><dt><span class="strong">返回:</span></dt><dd>the size of the bitset used by the Bloom filter.</dd></dl>
</li>
</ul>
<a name="count()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>count</h4>
<pre>public&nbsp;int&nbsp;count()</pre>
<div class="block">Returns the number of elements added to the Bloom filter after it was
 constructed or after clear() was called.</div>
<dl><dt><span class="strong">返回:</span></dt><dd>number of elements added to the Bloom filter.</dd></dl>
</li>
</ul>
<a name="getExpectedNumberOfElements()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getExpectedNumberOfElements</h4>
<pre>public&nbsp;int&nbsp;getExpectedNumberOfElements()</pre>
<div class="block">Returns the expected number of elements to be inserted into the filter.
 This value is the same value as the one passed to the constructor.</div>
<dl><dt><span class="strong">返回:</span></dt><dd>expected number of elements.</dd></dl>
</li>
</ul>
<a name="getExpectedBitsPerElement()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getExpectedBitsPerElement</h4>
<pre>public&nbsp;double&nbsp;getExpectedBitsPerElement()</pre>
<div class="block">Get expected number of bits per element when the Bloom filter is full.
 This value is set by the constructor when the Bloom filter is created.
 See also getBitsPerElement().</div>
<dl><dt><span class="strong">返回:</span></dt><dd>expected number of bits per element.</dd></dl>
</li>
</ul>
<a name="getBitsPerElement()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getBitsPerElement</h4>
<pre>public&nbsp;double&nbsp;getBitsPerElement()</pre>
<div class="block">Get actual number of bits per element based on the number of elements
 that have currently been inserted and the length of the Bloom filter. See
 also getExpectedBitsPerElement().</div>
<dl><dt><span class="strong">返回:</span></dt><dd>number of bits per element.</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="跳过导航链接"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="导航">
<li><a href="../../../overview-summary.html">概览</a></li>
<li><a href="package-summary.html">程序包</a></li>
<li class="navBarCell1Rev">类</li>
<li><a href="class-use/BloomFilter.html">使用</a></li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../../deprecated-list.html">已过时</a></li>
<li><a href="../../../index-files/index-1.html">索引</a></li>
<li><a href="../../../help-doc.html">帮助</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>上一个类</li>
<li><a href="../../../com/gs/visitor/DaemonThread.html" title="com.gs.visitor中的类"><span class="strong">下一个类</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/gs/visitor/BloomFilter.html" target="_top">框架</a></li>
<li><a href="BloomFilter.html" target="_top">无框架</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">所有类</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>概要:&nbsp;</li>
<li>嵌套&nbsp;|&nbsp;</li>
<li><a href="#field_summary">字段</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">方法</a></li>
</ul>
<ul class="subNavList">
<li>详细资料:&nbsp;</li>
<li><a href="#field_detail">字段</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">方法</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
